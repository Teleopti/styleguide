<div ng-if="vm.popupMode">
	<div class="wfm-datepicker-text">
		<button type="button" class="wfm-btn wfm-btn-invis-primary wfm-btn-sm" ng-click="vm.gotoPreviousDate()">
			<i class="mdi mdi-chevron-double-left"></i>
		</button>
		<span ng-click="vm.toggleDatePicker($event)">
			<i class="mdi mdi-calendar-range"></i>
		</span>
		<span ng-click="vm.toggleDatePicker($event)" class="wfm-datepicker-text-date">{{vm.pickDate | persianDate:'fullDate'}}</span>
		<button type="button" class="wfm-btn wfm-btn-invis-primary wfm-btn-sm" ng-click="vm.gotoNextDate()">
			<i class="mdi mdi-chevron-double-right"></i>
		</button>
	</div>
	<wfm-popup show="vm.isShowingDatePicker">
		<wfm-date-picker-header class="con-row between-date-info-wrapper">
			<div class="con-flex" ng-class="{'notice-warning':!vm.isValid, 'notice-info':vm.isValid}">
				<div tabindex=0 class="context-menu card-context" ng-click="vm.selectToday()">
					<i class="mdi mdi-calendar-range"></i>
					<md-tooltip>{{'SelectToday' | translate}}</md-tooltip>
				</div>
				<span ng-if="vm.dateValiationText.length > 0">{{vm.dateValiationText}}</span>
			</div>
		</wfm-date-picker-header>
		<wfm-date-picker-body class="con-row">
			<div class="con-flex date-info-wrapper">
				<div class="select-date-info-wrapper single-select-mode pointer selecting-date">
					<div class="select-date-info-inner">
						<span class="date-info-label" translate>SelectedDate</span>
						<h1 class="date-info">{{vm.pickDate | persianDate:'fullDate'}}</h1>
					</div>
					<div class="clear-select-date-grow-out" ng-click="vm.resetDate()">
						<i class="mdi mdi-close"></i>
					</div>
				</div>
			</div>
			<div class="con-flex date-info-calendar-wrapper">
				<persian-datepicker ng-model="vm.pickDate" ng-class="{'non-pointer':vm.disable === 'all', 'show-week-numbers': vm.options.showWeeks, 'hide-week-numbers': !vm.options.showWeeks}"
				 ng-change="vm.switchDate()" show-weeks="vm.showWeek" custom-class="vm.options.customClass()"></persian-datepicker>
			</div>
		</wfm-date-picker-body>
	</wfm-popup>
</div>

<div ng-if="!vm.popupMode">
	<wfm-date-picker-header class="con-row between-date-info-wrapper">
		<div class="con-flex" ng-class="{'notice-warning':!vm.isValid, 'notice-info':vm.isValid}">
			<div tabindex=0 class="context-menu card-context" ng-click="vm.selectToday()">
				<i class="mdi mdi-calendar-range"></i>
				<md-tooltip>{{'SelectToday' | translate}}</md-tooltip>
			</div>
			<span ng-if="vm.dateValiationText.length > 0">{{vm.dateValiationText}}</span>
		</div>
	</wfm-date-picker-header>
	<wfm-date-picker-body class="con-row">
		<div class="con-flex date-info-wrapper">
			<div class="select-date-info-wrapper single-select-mode pointer selecting-date">
				<div class="select-date-info-inner">
					<span class="date-info-label" translate>SelectedDate</span>
					<h1 class="date-info">{{vm.pickDate | persianDate:'fullDate'}}</h1>
				</div>
				<div class="clear-select-date-grow-out" ng-click="vm.resetDate()">
					<i class="mdi mdi-close"></i>
				</div>
			</div>
		</div>
		<div class="con-flex date-info-calendar-wrapper">
			<persian-datepicker ng-model="vm.pickDate" ng-class="{'non-pointer':vm.disable === 'all', 'show-week-numbers': vm.options.showWeeks, 'hide-week-numbers': !vm.options.showWeeks}"
			 ng-change="vm.switchDate()" show-weeks="vm.showWeek" custom-class="vm.options.customClass()"></persian-datepicker>
		</div>
	</wfm-date-picker-body>
</div>